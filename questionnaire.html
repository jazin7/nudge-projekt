<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Fragebogen</title>
</head>
<body>
<h2>Fragebogen</h2>

<label>Wie umweltbewusst fühlst du dich? (1–5)</label><br />
<input type="range" id="identity" min="1" max="5" value="3"><br /><br />

<label>Wie frei hast du dich bei der Entscheidung gefühlt? (1–5)</label><br />
<input type="range" id="freedom" min="1" max="5" value="3"><br /><br />

<label>Was hast du gewählt?</label><br />
<select id="decision">
    <option value="kaufen">Kaufen</option>
    <option value="leihen">Leihen</option>
</select><br /><br />

<button onclick="sendData()">Absenden</button>

<script>
    function sendData() {
        const payload = {
            userId: crypto.randomUUID(),
            committed: new Date().toISOString(),
            decision: document.getElementById("decision").value,
            badge: "",
            identity: document.getElementById("identity").value,
            freedom: document.getElementById("freedom").value
        };

        const url = "https://script.google.com/macros/s/AKfycbzjGRcQzhstJ1BSfIP7cJtrBH_6WHfUMoG32fqBOXw5UNJJ8qUWge3pu7aKn6tDrJge/exec";
        const formData = new FormData();
        formData.append("data", JSON.stringify(payload));

        fetch(url, {
            method: "POST",
            body: formData
        })
            .then(res => res.text())
            .then(text => alert("✅ " + text))
            .catch(err => alert("❌ Fehler beim Senden: " + err.message));
    }
</script>
</body>
</html>
